# Конфигурация торгового ядра арбитражного бота

database:
  host: localhost
  port: 5432
  user: trading
  password: ${DB_PASSWORD}  # Загружается из переменной окружения
  dbname: arbitrage
  max_connections: 20

engine:
  num_shards: 8                      # Количество шардов (обычно runtime.NumCPU())
  workers_per_shard: 4               # Workers на каждый шард
  buffer_size: 1000                  # Размер буфера канала событий
  max_concurrent_arbs: 2             # Максимум одновременных арбитражей
  balance_update_interval: 5m        # Как часто обновлять балансы

# Конфигурация бирж
# API ключи загружаются из переменных окружения для безопасности
exchanges:
  bybit:
    api_key: ${BYBIT_API_KEY}
    api_secret: ${BYBIT_API_SECRET}
    rest_url: https://api.bybit.com
    ws_url: wss://stream.bybit.com/v5/public/linear

  bitget:
    api_key: ${BITGET_API_KEY}
    api_secret: ${BITGET_API_SECRET}
    rest_url: https://api.bitget.com
    ws_url: wss://ws.bitget.com/mix/v1/stream

  bingx:
    api_key: ${BINGX_API_KEY}
    api_secret: ${BINGX_API_SECRET}
    rest_url: https://open-api.bingx.com
    ws_url: wss://open-api-swap.bingx.com/swap-market

  gate:
    api_key: ${GATE_API_KEY}
    api_secret: ${GATE_API_SECRET}
    rest_url: https://api.gateio.ws
    ws_url: wss://api.gateio.ws/ws/v4

  okx:
    api_key: ${OKX_API_KEY}
    api_secret: ${OKX_API_SECRET}
    passphrase: ${OKX_PASSPHRASE}     # OKX требует дополнительный passphrase
    rest_url: https://www.okx.com
    ws_url: wss://ws.okx.com:8443/ws/v5/public

  htx:
    api_key: ${HTX_API_KEY}
    api_secret: ${HTX_API_SECRET}
    rest_url: https://api.huobi.pro
    ws_url: wss://api.hbdm.com/swap-ws

  mexc:
    api_key: ${MEXC_API_KEY}
    api_secret: ${MEXC_API_SECRET}
    rest_url: https://contract.mexc.com
    ws_url: wss://contract.mexc.com/ws

logging:
  level: info                        # debug, info, warn, error
  format: json                       # json, console
  output: /var/log/trading-engine.log

metrics:
  enabled: true
  port: 9090
  path: /metrics
